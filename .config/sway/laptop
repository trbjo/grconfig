set $ws1 workspace "1"
set $ws2 workspace "2"
set $ws3 workspace "3"
set $ws4 workspace "4"
set $ws5 workspace "5"

$ws1 output eDP-1
$ws2 output DP-1
$ws3 output DP-1
$ws4 output eDP-1
$ws5 output DP-1

bindsym --no-repeat ctrl+1 $ws1
bindsym --no-repeat ctrl+2 $ws2
bindsym --no-repeat ctrl+3 $ws3
bindsym --no-repeat ctrl+4 $ws4
bindsym --no-repeat ctrl+5 $ws5

# move focused container to workspace
bindsym --no-repeat ctrl+Shift+1 move container to $ws1; $ws1; fullscreen disable
bindsym --no-repeat ctrl+Shift+2 move container to $ws2; $ws2; fullscreen disable
bindsym --no-repeat ctrl+Shift+3 move container to $ws3; $ws3; fullscreen disable
bindsym --no-repeat ctrl+Shift+4 move container to $ws4; $ws4; fullscreen disable
bindsym --no-repeat ctrl+Shift+5 move container to $ws5; $ws5; fullscreen disable

#
## Output
#

output 'Panasonic Industry Company Panasonic-TV 0x00000101' resolution 1920x1080@60Hz pos 1921 0 scale 1 subpixel rgb
output 'Goldstar Company Ltd LG UltraFine 611NTCZ8V987' resolution 4096x2304 pos 1921 0 scale 2 subpixel rgb
output 'Unknown 0x422A 0x00000000' resolution 3000x2000 pos 0 0 scale 2 subpixel rgb bg ~/pic/Baggrunde/badebro.jpg stretch
output 'Chimei Innolux Corporation 0x1515 0x00000000' resolution 1920x1080@60Hz pos 0 0 scale 1 subpixel rgb bg ~/pic/Baggrunde/badebro.jpg stretch

exec /usr/bin/swayidle \
    timeout 30 'pgrep swaylockd && swaymsg "output * dpms off" && grep -q 0 /sys/class/power_supply/AC0/online && [ ! -f /tmp/inhibitSuspend ] && /usr/bin/systemctl suspend' \
    resume 'swaymsg "output * dpms on"' \
    timeout 120 'light -O && grep -q 0 /sys/class/power_supply/AC0/online && [ ! -f /tmp/inhibitScreen ] && light -T 0.2' \
    resume 'light -I; swaymsg "output * dpms on"' \
    timeout 150 'grep -q 0 /sys/class/power_supply/AC0/online && [ ! -f /tmp/inhibitScreen ] && loginctl lock-session && light -S 0' \
    timeout 152 'grep -q 0 /sys/class/power_supply/AC0/online && [ ! -f /tmp/inhibitScreen ] && swaymsg "output * dpms off"' \
    timeout 180 'grep -q 0 /sys/class/power_supply/AC0/online && [ ! -f /tmp/inhibitSuspend ] && /usr/bin/systemctl suspend' \
    timeout 240 '[ -f /tmp/inhibitSuspend ] || grep -q "ens1u\|4c:1b:86:91:63:70\|54:64:d9:7e:dd:d3\|00:1e:80:8b:eb:fa" /proc/net/arp || loginctl lock-session' \
    timeout 360 '[ ! -f /tmp/inhibitScreen ] && loginctl lock-session && light -S 0' \
    timeout 362 'swaymsg "output * dpms off"'\
    before-sleep "! grep -q "enabled" /sys/class/drm/{card0-DP-1,card0-DP-2,card0-HDMI-A-1}/enabled && swaymsg output eDP-1 enable ; loginctl lock-session"\
    after-resume "swaymsg 'output * enable, output * dpms on'"\
    lock 'playerctl pause; if ! pgrep -x swaylockd > /dev/null 2>&1; then swaymsg bar one workspace_buttons no, bar one mode overlay; swaylockd; loginctl unlock-session; fi' \
    unlock 'swaymsg bar one mode hide, bar one workspace_buttons yes'

    # resume "if [[ \$(ps -o etimes= -p \$(pgrep --oldest swaylockd)) -lt 300 ]]; then pkill -9 swaylockd; fi" \
    # after-resume "if [[ \$(ps -o etimes= -p \$(pgrep --oldest swaylockd)) -lt 300 ]]; then pkill -9 swaylockd; fi; swaymsg 'output * enable, output * dpms on'"\
